:root{
  /* very light theme */
  --bg:#f9fafb; --panel:#ffffff; --text:#111827; --muted:#6b7280;
  --accent:#0ea5e9; --border:#e5e7eb; --shadow:0 12px 34px rgba(2,6,23,.06);
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
  background:var(--bg); color:var(--text);
}

/* container & header */
.container{ max-width:1140px; margin:0 auto; padding:0 32px }
.site-header{ position:sticky; top:0; background:var(--bg); z-index:50; border-bottom:1px solid var(--border) }
.nav-row{ display:flex; align-items:center; justify-content:space-between; gap:16px; padding:18px 0 }

/* Brand: taller without looking "stretched" */
.brand{
  margin:0;
  font-weight:700;
  font-size: clamp(28px, 4.2vw, 38px);
  letter-spacing:.1px;
  line-height:1.15;
  font-stretch:98%;
}
.nav{ display:flex; gap:12px }
.nav-link{
  padding:10px 14px; border:1px solid var(--border); border-radius:12px;
  text-decoration:none; color:var(--text); background:var(--panel); box-shadow:var(--shadow);
  transition:transform .12s ease, background .12s ease
}
.nav-link:hover{ transform:translateY(-1px); background:#fcfcfd }
.nav-link.active{ outline:2px solid color-mix(in oklab, var(--accent) 45%, transparent) }

.section{ padding:26px 0 }

/* Home */
.home-hero{
  max-width:780px; margin:84px auto 28px;
  text-align:center; display:flex; flex-direction:column; gap:18px
}
.home-title{ font-size:clamp(28px, 3.6vw, 42px); margin:0; font-weight:700; line-height:1.12 }
.home-sub{ margin:0; color:var(--muted) }
.home-cta{ display:flex; gap:16px; justify-content:center; flex-wrap:wrap }
.btn{
  padding:12px 18px; border:1px solid var(--border); border-radius:12px;
  background:var(--panel); color:var(--text); box-shadow:var(--shadow);
  text-decoration:none; transition:transform .12s ease
}
.btn:hover{ transform: translateY(-1px) }

.badge{ display:inline-block; padding:6px 10px; border:1px solid var(--border); border-radius:999px; color:var(--muted); background:var(--panel) }

/* Segmented (difficulty) with smooth thumb */
.segment{
  position:relative; display:inline-flex; border:1px solid var(--border); border-radius:999px; padding:4px;
  background:var(--panel); box-shadow:var(--shadow); overflow:hidden;
}
.segment button{
  border:none; background:transparent; padding:10px 18px; border-radius:999px; color:var(--muted); cursor:pointer;
  transition: color .15s ease; width:33.333%;
}
.segment .thumb{
  position:absolute; top:4px; bottom:4px; width:33.333%;
  background: color-mix(in oklab, var(--accent) 14%, white);
  border-radius:999px; box-shadow: var(--shadow);
  transition: transform .28s cubic-bezier(.22,.61,.36,1);
  z-index:0;
}
.segment button.active{ color:#075985; font-weight:600; z-index:1 }
.segment[data-idx="0"] .thumb{ transform: translateX(0%) }
.segment[data-idx="1"] .thumb{ transform: translateX(100%) }
.segment[data-idx="2"] .thumb{ transform: translateX(200%) }

/* Memory */
.title{ text-align:center; margin:34px 0 10px; font-size: clamp(24px, 2.8vw, 30px) }
.toolbar{ display:flex; gap:12px; align-items:center; justify-content:center; flex-wrap:wrap; margin:10px 0 18px }

/* Board must be truly centered */
.board{
  display:grid; place-content:center;
  min-height:260px;
}
.grid{ display:grid; gap:16px; justify-items:center }
/* 2x2 / 4x2 / 4x4 fixed, centered */
.grid.e{ grid-template-columns: repeat(2, 160px) }  /* 4 cards */
.grid.m{ grid-template-columns: repeat(4, 140px) }  /* 8 cards */
.grid.h{ grid-template-columns: repeat(4, 130px) }  /* 16 cards */

.card-tile{
  width:100%; height:160px; border-radius:18px; border:1px solid var(--border); overflow:hidden;
  /* front background (visible when not flipped) */
  background:
    radial-gradient(120px 60px at 50% -20%, rgba(2,6,23,.05), transparent 60%),
    linear-gradient(165deg, #fefdf9, #f5f8ff);
  box-shadow:var(--shadow); cursor:pointer; perspective:1100px
}
.card-inner{ position:relative; width:100%; height:100%; transform-style:preserve-3d; transition: transform .32s ease }
.card-face{ position:absolute; inset:0; display:flex; align-items:center; justify-content:center; backface-visibility:hidden }
/* front face: subtle paper micro-pattern */
.card-face.front{
  background:
    repeating-linear-gradient(45deg, rgba(0,0,0,.025) 0 2px, transparent 2px 4px),
    linear-gradient(165deg, #ffffff, #f7faff);
}
/* back face: NOT white; frosted light tint */
.card-face.back{
  transform:rotateY(180deg); font-size:48px;
  background:
    linear-gradient(165deg, rgba(14,165,233,.12), rgba(14,165,233,.06)),
    linear-gradient(165deg, #f8fbff, #f2fbff);
}
.card-tile.flipped .card-inner{ transform:rotateY(180deg) }
.card-tile.matched{ outline:2px solid rgba(34,197,94,.5) }

/* Image Search */
.searchbar{ display:flex; gap:12px; align-items:center; justify-content:center; margin:14px 0 18px; flex-wrap:wrap }
.input{
  padding:14px 18px; width:min(600px, 84vw); border-radius:999px;
  border:1px solid var(--border);
  background:linear-gradient(180deg, #ffffff, #fafafa);
  color:var(--text); box-shadow: var(--shadow);
}
.input::placeholder{ color:#9aa4b2 }
.search-btn{ padding:12px 18px; border-radius:999px }

.gallery{ display:grid; grid-template-columns:repeat(auto-fill, minmax(240px,1fr)); gap:16px; margin-top:18px }
.photo{
  position:relative; background:var(--panel); border:1px solid var(--border); border-radius:16px; overflow:hidden; box-shadow:var(--shadow);
  transition: transform .16s ease
}
.photo img{ width:100%; aspect-ratio:3 / 4; object-fit:cover; display:block }
.photo:hover{ transform: translateY(-2px) scale(1.02) }

/* Lightbox â€” image only; actions as buttons below image */
.modal{
  position:fixed; inset:0; background:rgba(0,0,0,.8);
  display:flex; align-items:center; justify-content:center; padding:20px; z-index:60
}
.modal .sheet{ display:flex; flex-direction:column; align-items:center; gap:10px }
.modal img{ max-width:min(92vw, 1280px); max-height:86vh; width:auto; height:auto }
.modal .actions{ display:flex; gap:10px; justify-content:center }
.modal .actions .btn{ color:var(--text); text-decoration:none }