# å¼€å‘å·¥ä½œæµç¨‹è§„åˆ™ / Development Workflow Rules

## Claude Code å·¥ä½œæµç¨‹

### ğŸ”´ å¿…é¡»éµå®ˆçš„è§„åˆ™ / MUST Follow Rules

#### 1. å¼€å§‹ä»»ä½•æ“ä½œå‰æŸ¥çœ‹æ—¥å¿—
**åœ¨æ‰§è¡Œä»»ä½•ä»£ç ä¿®æ”¹ã€åŠŸèƒ½å¼€å‘ä¹‹å‰ï¼Œå¿…é¡»å…ˆæŸ¥çœ‹ `UPDATE_LOG.md`**

**æ“ä½œæ­¥éª¤**:
```bash
# 1. å…ˆè¯»å–æ›´æ–°æ—¥å¿—
Read: /path/to/week08_mid_2/UPDATE_LOG.md

# 2. äº†è§£ï¼š
#    - æœ€è¿‘çš„æ›´æ”¹å†…å®¹
#    - å½“å‰çš„æ¶æ„å’ŒæŠ€æœ¯æ ˆ
#    - å·²çŸ¥é—®é¢˜å’Œé™åˆ¶
#    - æ­£åœ¨è¿›è¡Œçš„åŠŸèƒ½

# 3. ç„¶åå†å¼€å§‹å·¥ä½œ
```

**ä¸ºä»€ä¹ˆé‡è¦**:
- âœ… é¿å…é‡å¤å·¥ä½œ
- âœ… äº†è§£é¡¹ç›®å½“å‰çŠ¶æ€
- âœ… é˜²æ­¢å¼•å…¥å·²çŸ¥bug
- âœ… ä¿æŒä»£ç é£æ ¼ä¸€è‡´
- âœ… äº†è§£ä¾èµ–å…³ç³»

---

#### 2. ä»£ç æäº¤è§„åˆ™

**Commit Message è§„åˆ™**:
- ç®€å•æ›´æ–°ï¼š`git commit -m "update"`
- é‡å¤§åŠŸèƒ½ï¼š`git commit -m "feat: åŠŸèƒ½æè¿°"`
- Bugä¿®å¤ï¼š`git commit -m "fix: é—®é¢˜æè¿°"`
- æ–‡æ¡£æ›´æ–°ï¼š`git commit -m "docs: æ–‡æ¡£æ›´æ–°"`

**æäº¤æµç¨‹**:
```bash
# 1. æŸ¥çœ‹çŠ¶æ€
git status

# 2. æ·»åŠ æ‰€æœ‰æ”¹åŠ¨
git add .

# 3. æäº¤
git commit -m "update"

# 4. æ¨é€
git push
```

---

#### 3. æ›´æ–°æ—¥å¿—è§„åˆ™

**æ¯æ¬¡æäº¤åå¿…é¡»æ›´æ–° `UPDATE_LOG.md`**

**æ—¥å¿—æ ¼å¼**:
```markdown
## Date: YYYY-MM-DD (Session X) - åŠŸèƒ½ç®€è¿°

### Overview
ç®€è¦æ¦‚è¿°æœ¬æ¬¡æ›´æ–°çš„ä¸»è¦å†…å®¹

---

## 1. åŠŸèƒ½æ¨¡å— 1

### 1.1 å­åŠŸèƒ½
**File**: `path/to/file.tsx`

**Changes Made**:
- æ”¹åŠ¨æè¿°

**Code Example**:
```typescript
// ä»£ç ç¤ºä¾‹
```

---

## File Modifications Summary

| File | Type | Changes |
|------|------|---------|
| `path/to/file` | New/Modified | æè¿° |

---

## Testing Checklist
- [ ] æµ‹è¯•é¡¹1
- [ ] æµ‹è¯•é¡¹2

---

*Generated: YYYY-MM-DD*
*Claude Code Session X - æ›´æ–°æè¿°*
```

**æ›´æ–°ä½ç½®**:
- æ–°å†…å®¹æ·»åŠ åœ¨æ–‡ä»¶æœ€å‰é¢ï¼ˆå€’åºæ’åˆ—ï¼‰
- ä¿æŒç°æœ‰æ ¼å¼å’Œè¯¦ç»†ç¨‹åº¦
- åŒ…å«ä»£ç ç¤ºä¾‹ã€æŠ€æœ¯ç»†èŠ‚ã€æµ‹è¯•æ¸…å•

---

#### 4. ç¯å¢ƒå˜é‡ç®¡ç†

**`.env.local` æ–‡ä»¶å¤„ç†**:
- âŒ ä¸è¦æäº¤åˆ°Git
- âœ… åœ¨ `UPDATE_LOG.md` ä¸­è®°å½•éœ€è¦çš„ç¯å¢ƒå˜é‡
- âœ… æä¾›é»˜è®¤å€¼å’Œè¯´æ˜

**å½“å‰é¡¹ç›®ç¯å¢ƒå˜é‡**:
```bash
# AIåŠŸèƒ½å¼€å…³
NEXT_PUBLIC_ENABLE_AI_API=false  # æµ‹è¯•é˜¶æ®µé»˜è®¤å…³é—­

# Supabaseï¼ˆå ä½ç¬¦ï¼‰
NEXT_PUBLIC_SUPABASE_URL=placeholder
NEXT_PUBLIC_SUPABASE_ANON_KEY=placeholder

# DeepSeek APIï¼ˆæœªæ¥ä½¿ç”¨ï¼‰
DEEPSEEK_API_KEY=your_api_key_here
```

---

### ğŸ“‹ å·¥ä½œæµç¨‹æ£€æŸ¥æ¸…å• / Workflow Checklist

#### å¼€å§‹å·¥ä½œå‰:
- [ ] âœ… è¯»å– `UPDATE_LOG.md` äº†è§£æœ€æ–°çŠ¶æ€
- [ ] âœ… æ£€æŸ¥ `WORKFLOW_RULES.md`ï¼ˆæœ¬æ–‡æ¡£ï¼‰
- [ ] âœ… ç¡®è®¤å¼€å‘æœåŠ¡å™¨è¿è¡Œæ­£å¸¸ (`npm run dev`)
- [ ] âœ… æ£€æŸ¥ Git åˆ†æ”¯çŠ¶æ€ (`git status`)

#### å¼€å‘è¿‡ç¨‹ä¸­:
- [ ] âœ… ä¿æŒä»£ç é£æ ¼ä¸€è‡´
- [ ] âœ… éµå¾ªç°æœ‰æ¶æ„æ¨¡å¼
- [ ] âœ… æ·»åŠ å¿…è¦çš„æ³¨é‡Š
- [ ] âœ… å¤„ç†é”™è¯¯æƒ…å†µ

#### å®Œæˆå·¥ä½œå:
- [ ] âœ… æµ‹è¯•æ‰€æœ‰æ”¹åŠ¨
- [ ] âœ… æäº¤ä»£ç  (`git add . && git commit -m "update" && git push`)
- [ ] âœ… æ›´æ–° `UPDATE_LOG.md`ï¼ˆè¯¦ç»†è®°å½•ï¼‰
- [ ] âœ… å¦‚æœ‰ç¯å¢ƒå˜é‡å˜åŒ–ï¼Œæ›´æ–°è¯´æ˜

---

### ğŸ—ï¸ é¡¹ç›®æ¶æ„çº¦å®š / Architecture Conventions

#### æ–‡ä»¶ç»„ç»‡
```
week08_mid_2/
â”œâ”€â”€ app/                    # Next.js App Router
â”‚   â”œâ”€â”€ page.tsx           # é¦–é¡µ
â”‚   â”œâ”€â”€ builder/           # ç®€å†æ„å»ºå™¨
â”‚   â””â”€â”€ api/               # APIè·¯ç”±
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ layout/            # å¸ƒå±€ç»„ä»¶
â”‚   â”œâ”€â”€ wizard/            # å‘å¯¼æ­¥éª¤ç»„ä»¶
â”‚   â””â”€â”€ ui/                # é€šç”¨UIç»„ä»¶
â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ i18n/              # å›½é™…åŒ–
â”‚   â”œâ”€â”€ context/           # React Context
â”‚   â””â”€â”€ hooks/             # è‡ªå®šä¹‰Hooks
â””â”€â”€ public/                # é™æ€èµ„æº
```

#### å‘½åè§„èŒƒ
- **ç»„ä»¶**: PascalCase (`BasicInfoStep.tsx`)
- **å·¥å…·å‡½æ•°**: camelCase (`convertData.ts`)
- **å¸¸é‡**: UPPER_SNAKE_CASE (`MAX_LENGTH`)
- **CSSç±»**: kebab-case (`glass-card`)

#### æŠ€æœ¯æ ˆ
- **æ¡†æ¶**: Next.js 14 (App Router)
- **è¯­è¨€**: TypeScript
- **æ ·å¼**: Tailwind CSS + è‡ªå®šä¹‰glassmorphism
- **çŠ¶æ€ç®¡ç†**: React Context API
- **è¡¨å•**: React Hook Form + Zod
- **å›½é™…åŒ–**: è‡ªå®šä¹‰ i18n ç³»ç»Ÿï¼ˆContext-basedï¼‰

---

### ğŸš« ç¦æ­¢æ“ä½œ / Do NOT

1. âŒ **ä¸è¦ç›´æ¥ä¿®æ”¹ç”Ÿäº§ç¯å¢ƒé…ç½®**
2. âŒ **ä¸è¦æäº¤ `.env.local` æ–‡ä»¶**
3. âŒ **ä¸è¦åˆ›å»ºæ–°çš„æ—¥å¿—æ–‡ä»¶**ï¼ˆåªä½¿ç”¨ `UPDATE_LOG.md`ï¼‰
4. âŒ **ä¸è¦è·³è¿‡æ—¥å¿—æŸ¥çœ‹æ­¥éª¤**
5. âŒ **ä¸è¦ä½¿ç”¨ force push** (`git push -f`)
6. âŒ **ä¸è¦åˆ é™¤ç°æœ‰åŠŸèƒ½**ï¼ˆé™¤éæ˜ç¡®è¦æ±‚ï¼‰

---

### ğŸ“ ç¤ºä¾‹å·¥ä½œæµç¨‹ / Example Workflow

```bash
# 1. å¯åŠ¨ä¼šè¯ - å…ˆæŸ¥çœ‹æ—¥å¿—
Read: UPDATE_LOG.md
> äº†è§£æœ€æ–°æ”¹åŠ¨ã€æ¶æ„ã€å·²çŸ¥é—®é¢˜

# 2. æ¥æ”¶ä»»åŠ¡
User: "æ·»åŠ XXåŠŸèƒ½"

# 3. å¼€å‘
- ç¼–å†™ä»£ç 
- éµå¾ªç°æœ‰æ¨¡å¼
- æµ‹è¯•åŠŸèƒ½

# 4. æäº¤
git add .
git commit -m "update"
git push

# 5. è®°å½•
Edit: UPDATE_LOG.md
> åœ¨æ–‡ä»¶å¼€å¤´æ·»åŠ è¯¦ç»†æ›´æ–°è®°å½•

# 6. ç¡®è®¤
å‘ç”¨æˆ·æŠ¥å‘Šå®Œæˆæƒ…å†µ
```

---

### ğŸ”„ Vercel è‡ªåŠ¨éƒ¨ç½²

**å½“å‰é…ç½®**:
- âœ… æ¨é€åˆ° `main` åˆ†æ”¯è‡ªåŠ¨éƒ¨ç½²
- âœ… Production Branch: `main`
- âœ… Preview Branches: æ‰€æœ‰åˆ†æ”¯

**å¦‚éœ€æ‰‹åŠ¨æ§åˆ¶**:
```bash
# æ–¹å¼1: Commit messageè·³è¿‡éƒ¨ç½²
git commit -m "update [skip ci]"

# æ–¹å¼2: Vercelè®¾ç½®ä¸­ç¦ç”¨è‡ªåŠ¨éƒ¨ç½²
Settings â†’ Git â†’ Automatic Deployments (å–æ¶ˆå‹¾é€‰)
```

---

### ğŸ“š å‚è€ƒèµ„æº / References

- **é¡¹ç›®æ—¥å¿—**: `UPDATE_LOG.md` - å®Œæ•´æ›´æ–°å†å²
- **æœ¬è§„åˆ™**: `WORKFLOW_RULES.md` - å·¥ä½œæµç¨‹
- **ç¯å¢ƒé…ç½®**: `.env.local` - ç¯å¢ƒå˜é‡ï¼ˆä¸æäº¤ï¼‰
- **ä»£ç è§„èŒƒ**: éµå¾ªç°æœ‰ä»£ç é£æ ¼

---

### ğŸ†˜ é—®é¢˜å¤„ç† / Troubleshooting

#### å¼€å‘æœåŠ¡å™¨é—®é¢˜
```bash
# é‡å¯æœåŠ¡å™¨
Ctrl+C  # åœæ­¢
npm run dev  # é‡å¯
```

#### Gitå†²çª
```bash
# æŸ¥çœ‹çŠ¶æ€
git status

# å¦‚æœéœ€è¦ï¼Œæ‹‰å–æœ€æ–°ä»£ç 
git pull origin main

# è§£å†³å†²çªå
git add .
git commit -m "resolve conflicts"
git push
```

#### ä¾èµ–é—®é¢˜
```bash
# é‡æ–°å®‰è£…ä¾èµ–
rm -rf node_modules package-lock.json
npm install
```

---

## æ€»ç»“ / Summary

**æ ¸å¿ƒåŸåˆ™**:
1. ğŸ“– **å…ˆè¯»æ—¥å¿—ï¼Œå†åŠ¨æ‰‹**
2. ğŸ’¾ **æ¯æ¬¡æäº¤éƒ½æ›´æ–°æ—¥å¿—**
3. ğŸ”„ **ä¿æŒä¸€è‡´çš„å·¥ä½œæµç¨‹**
4. âœ… **å®Œæ•´çš„æµ‹è¯•å’Œè®°å½•**

**è®°ä½**:
- `UPDATE_LOG.md` æ˜¯é¡¹ç›®çš„"è®°å¿†"
- è¯¦ç»†çš„æ—¥å¿—å¸®åŠ©æœªæ¥çš„å¼€å‘
- éµå¾ªè§„åˆ™é¿å…æ··ä¹±

---

*Created: 2025-11-02*
*Last Updated: 2025-11-02*
